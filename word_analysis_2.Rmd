---
title: "word_analysis_2"
author: "Suzy"
date: '2022-05-10'
output: html_document
---


## R Markdown

```{r cars}
#install.packages("SnowballC")
#install.packages("dplyr")
library(SnowballC)
library(dplyr)

parole_sub2 <- parole_sub %>%
  select(text) %>%
  unnest_tokens(output = word, input = text) %>%
  anti_join(stop_words) %>%
  mutate(word = tolower(word)) 


parts_of_speech_ad <- parts_of_speech %>%
  filter(pos %in% c("Adjective", "Adverb"))

parole_sub2 <- parole_sub2 %>%
  left_join(parts_of_speech_ad, by = "word")
  
#endgram an bygram

```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
#install.packages("udpipe")
#install.packages("dplyr")
library(udpipe)
library(dplyr)
library(stringr)
library(purrr)
library(tidyr)

Words<-parole_sub %>%
  select(text)
df<-data.frame(Words, stringAsFactors = FALSE)

udmodel<-udpipe_download_model(language = "english")
udmodel<-udpipe_load_model(file = udmodel$file_model)


df %>% mutate(
  tokens = str_extract_all(Words, "\\w+|[[:punct:]]"),
  locations = str_locate_all(Words, "\\w+|[[:punct:]]"),
  locations = map(locations, as.data.frame)) %>%
  select(-Words) %>%
  unnest(tokens, locations) %>% 
  mutate(POS = purrr::map_chr(tokens, function(x) as.data.frame(udpipe_annotate(udmodel, x = x, tokenizer = "vertical"))$upos))
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
